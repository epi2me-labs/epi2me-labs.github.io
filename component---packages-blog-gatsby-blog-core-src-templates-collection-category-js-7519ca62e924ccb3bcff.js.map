{"version":3,"file":"component---packages-blog-gatsby-blog-core-src-templates-collection-category-js-7519ca62e924ccb3bcff.js","mappings":"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","sources":["webpack://@elegantstack/gatsby-starter-flexiblog-minimal-v2/../packages/blog/gatsby-blog-core/src/templates/collection.category.js","webpack://@elegantstack/gatsby-starter-flexiblog-minimal-v2/../packages/blog/gatsby-blog-pages/src/containers/Collection.jsx","webpack://@elegantstack/gatsby-starter-flexiblog-minimal-v2/../packages/flow-ui/flow-ui-components/src/PageTitle/PageTitle.jsx","webpack://@elegantstack/gatsby-starter-flexiblog-minimal-v2/../packages/flow-ui/flow-ui-components/src/utils/normalizeSlug.js","webpack://@elegantstack/gatsby-starter-flexiblog-minimal-v2/../packages/flow-ui/flow-ui-components/src/Pagination/Pagination.jsx"],"sourcesContent":["import { graphql } from 'gatsby'\nimport Collection from '../containers/Collection'\n\nexport default Collection\n\nexport const pageQuery = graphql`\n  query allArticleByCategoryQuery(\n    $skip: Int!\n    $limit: Int!\n    $slug: String!\n    $includeExcerpt: Boolean!\n    $includeTimeToRead: Boolean!\n    $imageQuality: Int!\n  ) {\n    collectionInfo: articleCategory(slug: { eq: $slug }) {\n      id\n      name\n      slug\n      description\n    }\n    posts: allArticle(\n      filter: {\n        private: { ne: true }\n        draft: { ne: true }\n        category: { slug: { eq: $slug } }\n      }\n      sort: { date: DESC }\n      limit: $limit\n      skip: $skip\n    ) {\n      nodes {\n        ...ArticlePreview\n        ...ArticleThumbnailRegular\n      }\n      ...ArticlePagination\n    }\n  }\n`\n","import React from 'react'\r\nimport { Layout, Stack, Main, PreFooter } from '@layout'\r\nimport PageTitle from '@components/PageTitle'\r\nimport Pagination from '@components/Pagination'\r\nimport CardList from '@components/CardList'\r\nimport Divider from '@components/Divider'\r\nimport Seo from '@widgets/Seo'\r\n\r\nconst PageCollection = ({ data: { posts, collectionInfo }, ...props }) => (\r\n  <Layout {...props}>\r\n    <Seo title={collectionInfo.name} description={collectionInfo.description} />\r\n    <Divider />\r\n    <Stack effectProps={{ effect: 'fadeInDown' }}>\r\n      <PageTitle\r\n        header={collectionInfo.name}\r\n        subheader={collectionInfo.title}\r\n        running={collectionInfo.description}\r\n        totalCount={posts.totalCount}\r\n      />\r\n    </Stack>\r\n    <Divider />\r\n    <Stack>\r\n      <Main>\r\n        {posts.nodes && (\r\n          <CardList\r\n            nodes={posts.nodes}\r\n            variant={['horizontal-md', 'vertical']}\r\n            columns={[1, 2, 3, 3]}\r\n            omitCategory={\r\n              props.pageContext &&\r\n              props.pageContext.collectionType === 'category'\r\n            }\r\n          />\r\n        )}\r\n      </Main>\r\n    </Stack>\r\n    <Divider />\r\n    <PreFooter>\r\n      <Pagination {...posts.pageInfo} {...collectionInfo} />\r\n    </PreFooter>\r\n  </Layout>\r\n)\r\n\r\nexport default PageCollection\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Heading, Text, Badge } from 'theme-ui'\r\n\r\nconst styles = {\r\n  count: {\r\n    fontSize: 4\r\n  },\r\n  subheader: {\r\n    fontWeight: `body`,\r\n    color: `omegaDark`\r\n  },\r\n  runninghead: {\r\n    fontWeight: `body`,\r\n    color: `omegaDark`,\r\n    mb: 0\r\n  }\r\n}\r\n\r\nconst PageTitle = ({ header, subheader, running, totalCount }) => {\r\n  return (\r\n    <div>\r\n      <Heading variant='h1' as='h1'>\r\n        {header}{' '}\r\n        {totalCount && (\r\n          <Badge variant='tag-white' sx={styles.count}>\r\n            {' '}\r\n            {totalCount}\r\n          </Badge>\r\n        )}\r\n      </Heading>\r\n      {subheader && (\r\n        <Text variant='h3' sx={styles.subheader}>\r\n          {subheader}\r\n        </Text>\r\n      )}\r\n      {running && (\r\n        <Text variant='h4' sx={styles.runninghead}>\r\n          {running}\r\n        </Text>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PageTitle\r\n\r\nPageTitle.propTypes = {\r\n  title: PropTypes.string,\r\n  subheader: PropTypes.string,\r\n  running: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n  totalCount: PropTypes.number\r\n}\r\n","// normalize use of trailing slash\r\nexport default slug => slug.replace(/\\/*$/, `/`)\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Link } from 'gatsby'\r\nimport { Button, Flex, Box } from 'theme-ui'\r\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa'\r\nimport normalizeSlug from '@components/utils/normalizeSlug'\r\n\r\nconst pagingParam = 'page'\r\n\r\nconst styles = {\r\n  wrapper: {\r\n    justifyContent: `space-between`,\r\n    alignItems: `center`,\r\n    textAlign: `center`,\r\n    borderRadius: `full`,\r\n    bg: `contentBg`,\r\n    maxWidth: [`none`, 500],\r\n    mx: `auto`,\r\n    p: 1\r\n  },\r\n  item: {\r\n    width: `1/3`\r\n  },\r\n  number: {\r\n    py: 2\r\n  },\r\n  button: {\r\n    minWidth: `full`\r\n  }\r\n}\r\n\r\nconst Pagination = ({\r\n  currentPage,\r\n  pageCount,\r\n  hasPreviousPage,\r\n  hasNextPage,\r\n  basePath = '',\r\n  slug = ''\r\n}) => {\r\n  if (!hasNextPage && !hasPreviousPage) return ''\r\n  let prefixPath = normalizeSlug(basePath + slug)\r\n  let pagingPath = normalizeSlug(prefixPath + pagingParam)\r\n\r\n  const prevLink =\r\n    currentPage >= 3 ? `${pagingPath}${currentPage - 1}` : prefixPath\r\n  const nextLink = `${pagingPath}${currentPage + 1}`\r\n\r\n  return (\r\n    <Flex sx={styles.wrapper}>\r\n      <Box sx={styles.item}>\r\n        {hasPreviousPage && (\r\n          <Button variant='mute' as={Link} to={prevLink} sx={styles.button}>\r\n            <FaChevronLeft />\r\n            Previous\r\n          </Button>\r\n        )}\r\n      </Box>\r\n      <Box sx={{ ...styles.item, ...styles.number }}>\r\n        Page <strong>{currentPage}</strong> of <strong>{pageCount}</strong>\r\n      </Box>\r\n      <Box sx={styles.item}>\r\n        {hasNextPage && (\r\n          <Button variant='dark' as={Link} to={nextLink} sx={styles.button}>\r\n            Next\r\n            <FaChevronRight />\r\n          </Button>\r\n        )}\r\n      </Box>\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default Pagination\r\n\r\nPagination.propTypes = {\r\n  currentPage: PropTypes.number,\r\n  pageCount: PropTypes.number,\r\n  hasPreviousPage: PropTypes.bool,\r\n  hasNextPage: PropTypes.bool,\r\n  slug: PropTypes.string,\r\n  pagingParam: PropTypes.string\r\n}\r\n"],"names":["Collection","_ref","data","posts","collectionInfo","props","_objectWithoutProperties","_excluded","___EmotionJSX","Layout","Seo","title","name","description","Divider","Stack","effectProps","effect","PageTitle","header","subheader","running","totalCount","Main","nodes","CardList","variant","columns","omitCategory","pageContext","collectionType","PreFooter","Pagination","_extends","pageInfo","styles","count","fontSize","fontWeight","color","runninghead","mb","Heading","as","Badge","sx","Text","slug","replace","wrapper","justifyContent","alignItems","textAlign","borderRadius","bg","maxWidth","mx","p","item","width","number","py","button","minWidth","currentPage","pageCount","hasPreviousPage","hasNextPage","basePath","prefixPath","normalizeSlug","pagingPath","prevLink","nextLink","Flex","Box","Button","Link","to","FaChevronLeft","_objectSpread","FaChevronRight"],"sourceRoot":""}