{"componentChunkName":"component---packages-blog-gatsby-blog-core-src-templates-post-js","path":"/bonito/","result":{"data":{"post":{"id":"6c7d8d6f-719c-5159-acd8-0b5b14d02ce7","title":"Bonito basecalling with R9.4.1","slug":"/bonito/","link":null,"excerpt":"Updated 2020-10-30: This page was edited to reflect the formal release of Bonito v0.3.0 We are…","timeToRead":1,"featured":null,"thumbnailText":null,"date":"October 15, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Bonito basecalling with R9.4.1\",\n  \"slug\": \"bonito\",\n  \"date\": \"2020-10-15T00:00:00.000Z\",\n  \"tags\": [\"#datasets\", \"#human cell-line\", \"#R9.4.1\", \"#basecalling\"],\n  \"category\": \"Data Releases\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Updated 2020-10-30: This page was edited to reflect the formal release of Bonito v0.3.0\")), mdx(\"p\", null, \"We are please to announce the addition of\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/nanoporetech/bonito\"\n  }, \"bonito\"), \" basecalling results to the\\nGM24385 dataset. Bonito is a research-grade, open source basecaller utilising\\nthe \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://pytorch.org/\"\n  }, \"PyTorch\"), \" library; its development explores\\nalternative basecalling frameworks to those use in the product-grade Guppy\\nbasecalling software.\"), mdx(\"p\", null, \"The Bonito basecalling for the GM24385 dataset was performed using version\\n0.3.0, driven by the same \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/katuali_human_pipeline/\"\n  }, \"katuali\"), \" analysis pipeline\\nas for the initial dataset release.  The Bonito basecaller was provided as\\ninput the per-chromosome \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".fast5\"), \" files created in the initial pipeline via\\nalignment of the Guppy 4.0.11 basecalls. This allows for easy comparison of\\nresults on subsets of the data (but may lead to subtle side-effects). For\\nexample the analysis data structure contains now entries of the form:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"gm24385_2020.09/analysis/r9.4.1/{flowcell}/guppy_{suffix}/align_unfiltered/{chromosome}/bonito_v0.3.0/\\n\\u251C\\u2500\\u2500 align_unfiltered\\n\\u2502\\xA0\\xA0 \\u251C\\u2500\\u2500 align_to_ref.log\\n\\u2502\\xA0\\xA0 \\u251C\\u2500\\u2500 basecall_stats.log\\n\\u2502\\xA0\\xA0 \\u251C\\u2500\\u2500 calls2ref.bam\\n\\u2502\\xA0\\xA0 \\u251C\\u2500\\u2500 calls2ref.bam.bai\\n\\u2502\\xA0\\xA0 \\u2514\\u2500\\u2500 calls2ref_stats.txt\\n\\u251C\\u2500\\u2500 basecalls.fastq.gz\\n\\u2514\\u2500\\u2500 basecalls.fastq.gz_summary.tsv\\n\")), mdx(\"p\", null, \"The file \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"basecalls.fastq.gz\"), \" contains the basecalling results from Bonito. The\\nquality scores in these files have been mocked as the pre-release build of Bonito used\\ndoes not yet provide quality scores. Similar to the main folder structure the\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"align_unfiltered\"), \" directory contains unfiltered alignments of the basecalls to\\nthe reference sequence (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"calls2ref.bam\"), \") along with text files summarizing the\\nproperties of the alignments.\"), mdx(\"h3\", {\n    \"id\": \"comparison-with-guppy-4011-basecalls\"\n  }, \"Comparison with Guppy 4.0.11 basecalls\"), mdx(\"p\", null, \"As a basis for comparison with the current Guppy basecaller we can use the alignment summary\\nfiles for both the Guppy and Bonito basecalls. To simplify the analysis we compare only chromosome 1\\ndata for a single flowcell; we can download the files with:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"aws s3 cp --no-sign-request s3://ont-open-data/gm24385_2020.09/analysis/r9.4.1/20200914_1354_6B_PAF27096_e7c9eae6/guppy_v4.0.11_r9.4.1_hac_prom/align_unfiltered/chr1/calls2ref_stats.txt guppy.stats\\naws s3 cp --no-sign-request s3://ont-open-data/gm24385_2020.09/analysis/r9.4.1/20200914_1354_6B_PAF27096_e7c9eae6/guppy_v4.0.11_r9.4.1_hac_prom/align_unfiltered/chr1/bonito_v0.3.0/align_unfiltered/calls2ref_stats.txt bonito.stats\\n\")), mdx(\"p\", null, \"The following \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/c0d85ae03e203a7f7e5cdaab853f6819/plot.py\"\n  }, \"python code\"), \",\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"from concurrent.futures import ProcessPoolExecutor\\n\\nimport pandas as pd\\n\\nimport aplanat.util\\nfrom aplanat import lines\\nfrom aplanat.layouts import facet_grid\\nfrom aplanat.report import HTMLReport\\n\\n\\ndef read_data(args):\\n    caller, filename = args\\n    df = pd.read_csv(filename, sep='\\\\t')\\n    xs, ys = aplanat.util.kernel_density_estimate(df['acc'], step=0.05)\\n    df = pd.DataFrame({'accuracy':xs, 'density':ys})\\n    df['caller'] = caller\\n    return df\\n\\ndata_sets = {\\n    'bonito': 'bonito.stats',\\n    'guppy': 'guppy.stats'}\\n\\nwith ProcessPoolExecutor() as executor:\\n    report = HTMLReport(\\\"Basecalling Accuracy Summary\\\", \\\"GM24385\\\")\\n    dfs = list(executor.map(read_data, data_sets.items()))\\nplot = lines.line(\\n    [df['accuracy'] for df in dfs],\\n    [df['density'] for df in dfs],\\n    colors=['red', 'blue'],\\n    names=['bonito', 'guppy'],\\n    xlim=(85,100),\\n    x_axis_label='Alignment accuracy',\\n    y_axis_label='Density')\\nplot.legend.location = 'top_left'\\nreport.plot(plot)\\nreport.write(\\\"report.html\\\")\\n\")), mdx(\"p\", null, \"can be used to plot a kernel density estimate for the read alignment accuracy:\"), mdx(\"p\", null, mdx(\"figure\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-figure\",\n    \"style\": {}\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"600px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"50.175438596491226%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"accuracy comparison\",\n    \"title\": \"Basecalls: Bonito CTC-CRF vs. Guppy 4.0.11\",\n    \"src\": \"/static/53bb1ce70c47b4b55e01304c2e3b79e1/dadad/accuracy.png\",\n    \"srcSet\": [\"/static/53bb1ce70c47b4b55e01304c2e3b79e1/050f2/accuracy.png 285w\", \"/static/53bb1ce70c47b4b55e01304c2e3b79e1/2b0be/accuracy.png 570w\", \"/static/53bb1ce70c47b4b55e01304c2e3b79e1/dadad/accuracy.png 600w\"],\n    \"sizes\": \"(max-width: 600px) 100vw, 600px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n    \"), \"\\n    \", mdx(\"figcaption\", {\n    parentName: \"figure\",\n    \"className\": \"gatsby-resp-image-figcaption\"\n  }, \"Basecalls: Bonito CTC-CRF vs. Guppy 4.0.11\"), \"\\n  \")), mdx(\"p\", null, \"The plot indicates a decrease of one-third in the modal error of reads.\"));\n}\n;\nMDXContent.isMDXComponent = true;","keywords":null,"tags":[{"id":"1ef6bed6-becb-59f5-b3be-6aed71fa4a56","name":"#datasets","slug":"/tag/datasets/"},{"id":"6b4f10c2-f4d6-5836-bd13-3a5b68750111","name":"#human cell-line","slug":"/tag/human-cell-line/"},{"id":"d10fe1bb-e5dc-5277-89f6-76c531f54d1b","name":"#R9.4.1","slug":"/tag/r9.4.1/"},{"id":"872e3b09-c32a-59e1-9f22-2f8a45b561a5","name":"#basecalling","slug":"/tag/basecalling/"}],"thumbnail":null},"tagCategoryPosts":{"nodes":[{"id":"c9895c4c-674d-50d4-a771-14aa86e9dd3c","title":"Structural variation calling with GM24385","slug":"/gm24385_2020.11_sv/","link":null,"excerpt":"In this blog post we will explore structural variant calling using the\n recently released  HG002 (GM…","timeToRead":1,"featured":null,"thumbnailText":null,"date":"December 01, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null},{"id":"946dda43-ae2e-5140-b8ec-27bd81cb8560","title":"November 2020 GM24385 Dataset Release","slug":"/gm24385_2020.11/","link":null,"excerpt":"We are happy to annouce an updated release of nanopore sequencing\nof the Genome in a Bottle sample…","timeToRead":1,"featured":null,"thumbnailText":null,"date":"November 26, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null},{"id":"869b8dbf-88c5-5d07-a5ed-48e30a6a1aaa","title":"Small variant calling with GM24385","slug":"/gm24385_snp/","link":null,"excerpt":"In this blog post we will explore small variant calling using the  previously\nreleased  HG002 (GM…","timeToRead":3,"featured":null,"thumbnailText":null,"date":"October 15, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null},{"id":"ba5e2235-cc9a-5aa4-823b-d845c63d8ea2","title":"Katuali analysis pipeline for preparing human datasets","slug":"/katuali_human_pipeline/","link":null,"excerpt":"Our recent  GM24385 data release  contains data from multiple\nflowcells and analytes for both the R…","timeToRead":4,"featured":null,"thumbnailText":null,"date":"September 22, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null},{"id":"ed7c7f81-03f7-53dd-b341-b077c911b4f9","title":"GM24385 Dataset Release","slug":"/gm24385_2020.09/","link":null,"excerpt":"We are happy to annouce the release of a Nanopore sequencing dataset\nof the Genome in a Bottle…","timeToRead":1,"featured":null,"thumbnailText":null,"date":"September 22, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null}]},"tagPosts":{"nodes":[{"id":"c9895c4c-674d-50d4-a771-14aa86e9dd3c","title":"Structural variation calling with GM24385","slug":"/gm24385_2020.11_sv/","link":null,"excerpt":"In this blog post we will explore structural variant calling using the\n recently released  HG002 (GM…","timeToRead":1,"featured":null,"thumbnailText":null,"date":"December 01, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null},{"id":"946dda43-ae2e-5140-b8ec-27bd81cb8560","title":"November 2020 GM24385 Dataset Release","slug":"/gm24385_2020.11/","link":null,"excerpt":"We are happy to annouce an updated release of nanopore sequencing\nof the Genome in a Bottle sample…","timeToRead":1,"featured":null,"thumbnailText":null,"date":"November 26, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null},{"id":"869b8dbf-88c5-5d07-a5ed-48e30a6a1aaa","title":"Small variant calling with GM24385","slug":"/gm24385_snp/","link":null,"excerpt":"In this blog post we will explore small variant calling using the  previously\nreleased  HG002 (GM…","timeToRead":3,"featured":null,"thumbnailText":null,"date":"October 15, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null},{"id":"ba5e2235-cc9a-5aa4-823b-d845c63d8ea2","title":"Katuali analysis pipeline for preparing human datasets","slug":"/katuali_human_pipeline/","link":null,"excerpt":"Our recent  GM24385 data release  contains data from multiple\nflowcells and analytes for both the R…","timeToRead":4,"featured":null,"thumbnailText":null,"date":"September 22, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null},{"id":"ed7c7f81-03f7-53dd-b341-b077c911b4f9","title":"GM24385 Dataset Release","slug":"/gm24385_2020.09/","link":null,"excerpt":"We are happy to annouce the release of a Nanopore sequencing dataset\nof the Genome in a Bottle…","timeToRead":1,"featured":null,"thumbnailText":null,"date":"September 22, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null}]},"categoryPosts":{"nodes":[{"id":"c9895c4c-674d-50d4-a771-14aa86e9dd3c","title":"Structural variation calling with GM24385","slug":"/gm24385_2020.11_sv/","link":null,"excerpt":"In this blog post we will explore structural variant calling using the\n recently released  HG002 (GM…","timeToRead":1,"featured":null,"thumbnailText":null,"date":"December 01, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null},{"id":"946dda43-ae2e-5140-b8ec-27bd81cb8560","title":"November 2020 GM24385 Dataset Release","slug":"/gm24385_2020.11/","link":null,"excerpt":"We are happy to annouce an updated release of nanopore sequencing\nof the Genome in a Bottle sample…","timeToRead":1,"featured":null,"thumbnailText":null,"date":"November 26, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null},{"id":"869b8dbf-88c5-5d07-a5ed-48e30a6a1aaa","title":"Small variant calling with GM24385","slug":"/gm24385_snp/","link":null,"excerpt":"In this blog post we will explore small variant calling using the  previously\nreleased  HG002 (GM…","timeToRead":3,"featured":null,"thumbnailText":null,"date":"October 15, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null},{"id":"ba5e2235-cc9a-5aa4-823b-d845c63d8ea2","title":"Katuali analysis pipeline for preparing human datasets","slug":"/katuali_human_pipeline/","link":null,"excerpt":"Our recent  GM24385 data release  contains data from multiple\nflowcells and analytes for both the R…","timeToRead":4,"featured":null,"thumbnailText":null,"date":"September 22, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null},{"id":"ed7c7f81-03f7-53dd-b341-b077c911b4f9","title":"GM24385 Dataset Release","slug":"/gm24385_2020.09/","link":null,"excerpt":"We are happy to annouce the release of a Nanopore sequencing dataset\nof the Genome in a Bottle…","timeToRead":1,"featured":null,"thumbnailText":null,"date":"September 22, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null},{"id":"ea9259d1-fe97-55ef-a8cd-c5bcfab4c141","title":"ONT Open Datasets Tutorials","slug":"/tutorials/","link":null,"excerpt":"Below you will find helpful information and links out to tutorials for\ndatasets within the Open…","timeToRead":1,"featured":null,"thumbnailText":null,"date":"September 22, 2020","category":{"id":"65003010-0bf1-57c7-aae4-219d8a84fee1","name":"Data Releases","slug":"/category/data-releases/","color":"#5fB8B1","icon":"/static/80e98fdc1b4550a2b9670e9dfc2e4f68/datareleases.svg"},"author":null,"thumbnail":null}]},"previous":{"id":"869b8dbf-88c5-5d07-a5ed-48e30a6a1aaa","slug":"/gm24385_snp/","title":"Small variant calling with GM24385"},"next":{"id":"bc567ed9-c0df-5876-bafb-db17b205de45","slug":"/nbquickstart/","title":"EPI2MELabs Quick Start Guide"}},"pageContext":{"id":"6c7d8d6f-719c-5159-acd8-0b5b14d02ce7","categoryId":"65003010-0bf1-57c7-aae4-219d8a84fee1","tagsIds":["1ef6bed6-becb-59f5-b3be-6aed71fa4a56","6b4f10c2-f4d6-5836-bd13-3a5b68750111","d10fe1bb-e5dc-5277-89f6-76c531f54d1b","872e3b09-c32a-59e1-9f22-2f8a45b561a5"],"hasTags":true,"previousId":"869b8dbf-88c5-5d07-a5ed-48e30a6a1aaa","nextId":"bc567ed9-c0df-5876-bafb-db17b205de45","paginatePostsPage":true,"basePath":"/","services":{"algolia":false,"mailchimp":false,"disqus":false},"siteUrl":"https://labs.epi2me.io/","mobileMenu":{"title":"Topics","items":[{"name":"Announcements","slug":"/category/announcements/"},{"name":"Data Releases","slug":"/category/data-releases/"},{"name":"How Tos","slug":"/category/how-tos/"},{"name":"Software Releases","slug":"/category/software-releases/"}]},"darkMode":true}},"staticQueryHashes":["1434057858","1992822086"]}